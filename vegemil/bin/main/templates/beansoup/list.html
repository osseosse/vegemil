<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<th:block class="white" th:replace="fragments/beansoup/head :: headFragment"></th:block>
<script>
	$(document).ready(function() {
		$('#btnSearch').click(function() {
			var word = $('#txtSearch').val();
			if (word == "" || word == null) {
				alert("검색어를 입력하세요.");
				return false;
			}
		});
		
		$(".moveCate").click(function(e){
			e.preventDefault();
			var elementPressed = $(this).find('p');
			// alert(elementPressed.text());
			location.href="/beanSoup/list?tag=" + elementPressed.text();
			return;			
		});

		function onKeydownEnterKey(obj) {
			if (event.keycode == 13) {
				self.focus();
				obj.click();

				return false;
			}
		}

	});


</script>
<script th:inline="javascript">
	/*<![CDATA[*/
      $(document).ready(function(){
    	var current = 'ㅡㅡ';
      	current = /*[[ ${tagSearched} ]]*/;

      	console.log(current);
      	
      	/* if (current == null){
      		$('#originList')show();
      	} */
      	
      	if (current != null) { 
			$('#originList').hide();
			$('#searchList').show();
			$('#searchTotal').show();
			$('#resultWord').show();
		}
	});
	/*]]>*/
</script>

<body>
	<!-- ================================ 
		        Header
        ================================ -->
	<th:block class="white" th:replace="fragments/beansoup/mainHeader :: headerFragment"></th:block>
	<!-- ================================ 
		        // Header
        ================================ -->
	<!-- ================================ 
		        Content
        ================================ -->
	<!-- main Visual -->
	
		<!-- main Visual -->
		<div class="container100 clear" >
			<div class="row h500">
				<div class="col-lg-12 bg_pink">
					<div class="hCenter02">
						<!-- subSearch -->
						<div class="mainSearch w600 ">
						  <p class="f26 mt60">간단요리사와 함께, 우리집</p>
						  <p class="f64 tcenter fw600 black">간단레시피</p>
		
						  <div class="search-container clear mt30">
							<form id="Form1" method="post" action="">
							  <input type="text" class="in-search" name="txtSearchWord"
									id="txtSearch" placeholder="찾으시는 레시피를 검색해보세요." autofocus></input>
							  <button type="submit"><i class="fa fa-search"></i></button>
							</form> <div class="clear"></div>
						  </div>
						  <div class="clear"></div>
						  <ul class="mt20 key3">
							<li><a href="/beanSoup/list?tag=담백한 채소육수">#담백한 채소육수</a></li>
							<li><a href="/beanSoup/list?tag=시원한 채소육수">#시원한 채소육수</a></li>
							<li><a href="/beanSoup/list?tag=구수한 사골육수">#구수한 사골육수</a></li>
							<li><a href="/beanSoup/list?tag=진한 콩국물">#진한 콩국물</a></li>
						  </ul>
						</div>
						<!-- //subSearch -->
					</div>
				</div>
			</div>
		</div>  
		<!-- // main Visual -->
		<div class="container mt80">
			<div class="row">
				<div class="col-lg-12">
					<div class="messonry-button2 text-center pb30 ">
						<button data-filter="*" class="cate0" th:classappend="${tag == null} ? 'is-checked' : ''"><span class="filter-text"></span><span class="filter-counter">78</span>
						<p class="f16 f500 mt10">전체</p></button>
						<button data-filter=".recType01" class="cate1 moveCate" th:classappend="${tag == '맑은 국물'} ? 'is-checked' : ''">
							<span class="filter-text"></span>
							<span class="filter-counter">6</span>
							<p class="f16 f500 mt10">맑은 국물</p>
						</button>
						<button data-filter=".recType02" class="cate2 moveCate" th:classappend="${tag == '진한 국물'} ? 'is-checked' : ''">
							<span class="filter-text"></span> 
							<span class="filter-counter">11</span>
							<p class="f16 f500 mt10">진한 국물</p>
						</button>
						<button class="cate3 moveCate" th:classappend="${tag == '봄'} ? 'is-checked' : ''"><span class="filter-text"></span> <span class="filter-counter">7</span><p class="f16 f500 mt10">봄</p></button>
						<button class="cate4 moveCate" th:classappend="${tag == '여름'} ? 'is-checked' : ''"><span class="filter-text"></span> <span class="filter-counter">12</span><p class="f16 f500 mt10">여름</p></button>
						<button class="cate5 moveCate" th:classappend="${tag == '가을'} ? 'is-checked' : ''"><span class="filter-text"></span> <span class="filter-counter">9</span><p class="f16 f500 mt10">가을</p></button>
						<button class="cate6 moveCate" th:classappend="${tag == '겨울'} ? 'is-checked' : ''"><span class="filter-text"></span> <span class="filter-counter">12</span><p class="f16 f500 mt10">겨울</p></button>
						<button class="cate7 moveCate" th:classappend="${tag == '우리집 파티'} ? 'is-checked' : ''"><span class="filter-text"></span> <span class="filter-counter">10</span><p class="f16 f500 mt10">우리집 파티</p></button>
						<button class="cate8 moveCate" th:classappend="${tag == '아이와 함께'} ? 'is-checked' : ''"><span class="filter-text"></span> <span class="filter-counter">12</span><p class="f16 f500 mt10">아이와 함께</p></button>
						<button class="cate9 moveCate" th:classappend="${tag == '채소를 듬뿍'} ? 'is-checked' : ''"><span class="filter-text"></span> <span class="filter-counter">11</span><p class="f16 f500 mt10">채소를 듬뿍</p></button>
						<button class="cate10 moveCate"  th:classappend="${tag == '고소한 간식'} ? 'is-checked' : ''"><span class="filter-text"></span> <span class="filter-counter">8</span><p class="f16 f500 mt10">고소한 간식</p></button>
						<button class="cate11 moveCate"  th:classappend="${tag == '새로운 발견'} ? 'is-checked' : ''"><span class="filter-text"></span> <span class="filter-counter">9</span><p class="f16 f500 mt10">새로운 발견</p></button>
					</div>

					<th:block th:if="${not #strings.isEmpty(search_result_html)}">
						<div class="listLine mt30m">
							<div id="searchTotal" th:if="${search_html!=null}">
								<div class='count'><p class='f16'>검색결과 <span class='green' th:text="${search_html}"></span> 조회</p></div>
							</div>
						</div>
						<div id="resultWord"><div class='mt50'><p class='f38 fw600 tcenter'><span class='green' th:text="${search_result_html}">'#채소'</span> 검색결과</p></div></div>
					</th:block>
					<div class="portfolio-grid-metro4 mesonry-list" id="searchList" style="display: none;">
						<div class="resizer"></div>
						<!-- <div id="DataList1"> -->
						<th:block th:each="item : ${searchList}">
							<div class="portfolio portfolio_style--1 portfolio-25">
								<div class="thumbBox">
									<a href="#" th:href="@{/beanSoup/detail(recipe=${item.fileNo})}">
										<!--pk:fileNo -->
										<div class="h220 round" th:classappend="${item.cssClass}"></div>
										<div class="recipeTxt_white">											
											<p class="f22 fw600 mt10" th:text="${item.name}">name</p>
										</div>
									</a>
								</div>
							</div>
						</th:block>
						<!-- </div> -->
					</div>
					<!-- 메인 전체리스트 -->
					<div class="portfolio-grid-metro4 mesonry-list" id="originList" style="display: block; ">
						<div class="resizer"></div>
						<!--나중에 th:block -> div로 바꿔보기 -->
						<th:block th:each="item : ${beansoupList}">
							<div class="portfolio portfolio_style--1 portfolio-25">
								<div class="thumbBox" style="height:350px;">
									<a th:href="|/beanSoup/detail?recipe=${item.fileNo}|">
										<!--pk:fileNo -->
										<div class="h220 round" th:classappend="${item.cssClass}"></div>
										<div class="recipeTxt_white">
											<!-- <p class="f16 gray" th:text="${item.tag}">tag</p> -->
											<p class="f22 fw600 mt10" th:text="${item.name}">name</p>
										</div>
									</a>
								</div>
							</div>
						</th:block>
					
					</div>
					<th:block th:if="${search_html == '0건'}">
						<div class=" text-center" style="height:250px;">
						<p class="f30 gray my-5 pt-3 pb-5 mb-4">검색 결과가 없습니다.<br></p>
						</div>
					</th:block>
					<!-- 메인 전체리스트 끝끝-->
				</div>
			</div>			           
		</div>
	<!-- //container -->
	<!-- ================================ 
		        // Content
        ================================ -->
	<!-- ================================ 
		        Footer
        ================================ -->
	<footer  th:replace="fragments/beansoup/mainFooter :: footerFragment"></footer>
	<!-- ================================ 
		        // Footer
        ================================ -->
</body>
</html>